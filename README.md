# JVM-3.10

## Задача 1.

### Описание кода с точки зрения происходящего в JVM

![](https://github.com/MarinaReic/JVM-3.10/blob/main/images/%D0%9A%D0%BE%D0%B4%20%D0%B4%D0%BB%D1%8F%20%D0%B8%D1%81%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%202.jpg)

**Строка 1.** Запускаются Classloader'ы, которые загружают системные классы и класс ```JvmComprehension``` в Metaspace (heap)

**Строка 3.** В Stack Memory (стек) создаётся фрейм с методом ```main()```

**Строка 4.** Во фрейм(main()) записывается ```int i = 1```

**Строка 5.** В heap (куча) создаётся объект ```Object```, а во фрейм(main()) - ```о```, которая ссылается на этот объект

**Строка 6.** В куче создаётся объект ```Integer``` со значением ```2```, а во фрейм(main()) - ```ii```, которая ссылается на этот объект

**Строка 7.** Вызывается метод ```private static void printAll(Object o, int i, Integer ii)``` на **строке 11** - В стеке создаётся фрейм с методом ```printAll()```, в котором создаются: 
  * ```о```, которая ссылается на объект ```Object``` в куче
  * ```int i = 1```
  * ```ii```, которая ссылается на объект ```Integer``` со значением ```2``` в куче

**Строка 12.** В куче создаётся объект ```Integer``` со значением ```700```, а во фрейм(printAll()) - ```uselessVar```, которая ссылается на этот объект

**Строка 13.** В стеке создаётся фрейм с методом ```System.out.println(o.toString() + i + ii)```, в котором создаётся ссылка на ```о```, ```int i = 1``` и ссылка на ```ii```, далее создаётся фрейм с методом ```toString()```. 

Метод ```toString()``` завершается, фрейм с этим методом удаляется из стека.

Метод ```System.out.println(o.toString() + i + ii)``` завершается и его фрейм удаляется из стека.

Метод ```private static void printAll(Object o, int i, Integer ii)``` завершается и его фрейм удаляется из стека.

Garbage Collection (сборщик мусора) удаляет из кучи объект ```Integer``` со значением ```700```

**Строка 8.** В стеке создаётся фрейм с методом ```System.out.println("finished")```, в котором создаётся ссылка на объект ```String``` со значением ```"finished"```. Этот метод завершается, его фрейм удаляется. 

Следовательно, завершается метод ```main()``` и его фрейм удаляется тоже (стек пустой). 

Сборщик мусора очищает кучу от всех объектов.
